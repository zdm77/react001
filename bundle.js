(this.webpackJsonpreact001=this.webpackJsonpreact001||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=(a(57),a(58),a(10)),i=a(11),u=a(13),s=a(12),d=a(9),m=a(14),h=(a(59),a(108)),p=a(106),E=a(110),v=(a(60),a(105)),b=[{id:1,name:"Product1",price:120},{id:2,name:"Product2",price:80}],f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={error:null,products:b,response:{}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"deleteProduct",value:function(e){var t=this,a=this.state.products,n=new FormData;n.append("productId",e),fetch("http://localhost/dev/tcxapp/reactapi/deleteProduct",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(n){t.setState({response:n,products:a.filter((function(t){return t.id!==e}))})}),(function(e){t.setState({error:e})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.products;return a?r.a.createElement("div",null,"Error: ",a.message):r.a.createElement("div",null,r.a.createElement("h2",null,"Product List"),this.state.response.message&&r.a.createElement(E.a,{variant:"info"},this.state.response.message),r.a.createElement(v.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#ID"),r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"SKU"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,n.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.sku),r.a.createElement("td",null,t.price),r.a.createElement("td",null,r.a.createElement(p.a,{variant:"info",onClick:function(){return e.props.editProduct(t.id)}},"Edit"),"\xa0",r.a.createElement(p.a,{variant:"danger",onClick:function(){return e.deleteProduct(t.id)}},"Delete")))})))))}}]),t}(r.a.Component),P=a(47),S=a(107),y=a(48),j=a(109),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).initialState={id:"",productName:"",price:"",sku:""},e.product?a.state=e.product:a.state=a.initialState,a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(P.a)({},t,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onFormSubmit(this.state),this.setState(this.initialState)}},{key:"render",value:function(){var e;return e=this.state.id?r.a.createElement("h2",null,"Edit Product"):r.a.createElement("h2",null,"Add Product"),r.a.createElement("div",null,e,r.a.createElement(S.a,null,r.a.createElement(y.a,{sm:6},r.a.createElement(j.a,{onSubmit:this.handleSubmit},r.a.createElement(j.a.Group,{controlId:"productName"},r.a.createElement(j.a.Label,null,"Product Name"),r.a.createElement(j.a.Control,{type:"text",name:"productName",value:this.state.productName,onChange:this.handleChange,placeholder:"Product Name"})),r.a.createElement(j.a.Group,{controlId:"sku"},r.a.createElement(j.a.Label,null,"SKU"),r.a.createElement(j.a.Control,{type:"text",name:"sku",value:this.state.sku,onChange:this.handleChange,placeholder:"SKU"})),r.a.createElement(j.a.Group,{controlId:"price"},r.a.createElement(j.a.Label,null,"Price"),r.a.createElement(j.a.Control,{type:"text",name:"price",value:this.state.price,onChange:this.handleChange,placeholder:"Price"})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Control,{type:"hidden",name:"id",value:this.state.id}),r.a.createElement(p.a,{variant:"success",type:"submit"},"Save"))))))}}]),t}(r.a.Component),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).editProduct=function(e){var t=new FormData;t.append("productId",e),fetch("http://localhost/dev/tcxapp/reactapi/getProduct",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){a.setState({product:e,isEditProduct:!0,isAddProduct:!0})}),(function(e){a.setState({error:e})}))},a.state={isAddProduct:!1,error:null,response:{},product:{},isEditProduct:!1},a.onFormSubmit=a.onFormSubmit.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onCreate",value:function(){this.setState({isAddProduct:!0})}},{key:"onFormSubmit",value:function(e){var t,a=this;t=this.state.isEditProduct?"http://localhost/dev/tcxapp/reactapi/editProduct":"http://localhost/dev/tcxapp/reactapi/createProduct";var n=new Headers;n.append("Content-Type","application/json");var r={method:"POST",body:JSON.stringify(e),myHeaders:n};fetch(t,r).then((function(e){return e.json()})).then((function(e){a.setState({response:e,isAddProduct:!1,isEditProduct:!1})}),(function(e){a.setState({error:e})}))}},{key:"render",value:function(){var e,t=this;return(this.state.isAddProduct||this.state.isEditProduct)&&(e=r.a.createElement(O,{onFormSubmit:this.onFormSubmit,product:this.state.product})),r.a.createElement("div",{className:"App"},r.a.createElement(h.a,null,r.a.createElement("h1",{style:{textAlign:"center"}},"React Tutorial"),!this.state.isAddProduct&&r.a.createElement(p.a,{variant:"primary",onClick:function(){return t.onCreate()}},"Add Product"),"success"===this.state.response.status&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(E.a,{variant:"info"},this.state.response.message)),!this.state.isAddProduct&&r.a.createElement(f,{editProduct:this.editProduct}),e,this.state.error&&r.a.createElement("div",null,"Error: ",this.state.error.message)))}}]),t}(n.Component);l.a.render(r.a.createElement(C,null),document.getElementById("root"))},52:function(e,t,a){e.exports=a(103)},58:function(e,t,a){},59:function(e,t,a){}},[[52,1,2]]]);